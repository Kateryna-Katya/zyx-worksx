{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // ==========================================\n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE)\n    // ==========================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // ==========================================\n    // 2. МОБИЛЬНОЕ МЕНЮ\n    // ==========================================\n    const burgerBtn = document.querySelector('.header__burger');\n    const closeBtn = document.querySelector('.mobile-menu__close');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const menuLinks = document.querySelectorAll('.mobile-menu__link');\n\n    function toggleMenu() {\n        if (!mobileMenu) return;\n        mobileMenu.classList.toggle('active');\n        // Блокируем скролл фона при открытом меню\n        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n    }\n\n    if(burgerBtn) burgerBtn.addEventListener('click', toggleMenu);\n    if(closeBtn) closeBtn.addEventListener('click', toggleMenu);\n    \n    // Закрываем меню при клике на любую ссылку\n    menuLinks.forEach(link => link.addEventListener('click', () => {\n        if (mobileMenu && mobileMenu.classList.contains('active')) {\n            toggleMenu();\n        }\n    }));\n\n    // ==========================================\n    // 3. АНИМАЦИИ (AOS & GSAP)\n    // ==========================================\n    \n    // Инициализация AOS (анимация при скролле для блоков)\n    if (typeof AOS !== 'undefined') {\n        AOS.init({\n            duration: 800,\n            once: true,\n            offset: 100,\n            disable: 'mobile' // Опционально: отключить на совсем старых телефонах\n        });\n    }\n\n    // GSAP Hero Animation (Последовательное появление)\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n        \n        const tl = gsap.timeline();\n        \n        tl.from('.hero__badge', { y: -20, opacity: 0, duration: 0.5, delay: 0.2 })\n          .from('.hero__title', { y: 30, opacity: 0, duration: 0.8 }, \"-=0.3\")\n          .from('.hero__desc', { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n          .from('.hero__actions', { y: 20, opacity: 0, duration: 0.6 }, \"-=0.4\")\n          .from('.hero__image-wrapper', { scale: 0.95, opacity: 0, duration: 1, ease: \"power2.out\" }, \"-=0.6\")\n          .from('.hero__stats', { opacity: 0, duration: 0.8 }, \"-=0.8\");\n    }\n\n    // ==========================================\n    // 4. СЛАЙДЕР (SWIPER)\n    // ==========================================\n    if (typeof Swiper !== 'undefined') {\n        const swiper = new Swiper('.innovations-slider', {\n            slidesPerView: 1,\n            spaceBetween: 20,\n            loop: true,\n            grabCursor: true, // Курсор \"рука\"\n            pagination: {\n                el: '.swiper-pagination',\n                clickable: true,\n            },\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n            breakpoints: {\n                768: {\n                    slidesPerView: 2,\n                },\n                1024: {\n                    slidesPerView: 3,\n                }\n            }\n        });\n    }\n\n    // ==========================================\n    // 5. КОНТАКТНАЯ ФОРМА (ВАЛИДАЦИЯ + КАПЧА)\n    // ==========================================\n    const form = document.getElementById('contactForm');\n    \n    if (form) {\n        const nameInput = document.getElementById('name');\n        const phoneInput = document.getElementById('phone');\n        const emailInput = document.getElementById('email');\n        const consentCheckbox = document.getElementById('consent');\n        const checkboxGroup = document.querySelector('.checkbox-group');\n        const successMsg = document.getElementById('formSuccess');\n        \n        const captchaQ = document.getElementById('captchaQuestion');\n        const captchaA = document.getElementById('captchaAnswer');\n\n        // Генерация капчи (случайные числа 1-10)\n        let num1 = Math.floor(Math.random() * 10) + 1;\n        let num2 = Math.floor(Math.random() * 10) + 1;\n        if(captchaQ) captchaQ.textContent = `${num1} + ${num2} = ?`;\n\n        // Маска телефона (запрет ввода букв)\n        if(phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/\\D/g, '');\n            });\n        }\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n\n            // 1. Сброс предыдущих ошибок\n            const allInputs = document.querySelectorAll('.form__input');\n            allInputs.forEach(input => input.classList.remove('error'));\n            if(checkboxGroup) checkboxGroup.classList.remove('error');\n\n            // 2. Проверка пустых полей\n            [nameInput, emailInput, phoneInput, captchaA].forEach(input => {\n                if(!input.value.trim()) {\n                    input.classList.add('error');\n                    isValid = false;\n                }\n            });\n\n            // 3. Проверка Email (Regex)\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (emailInput.value && !emailRegex.test(emailInput.value)) {\n                emailInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 4. Проверка Капчи\n            if (captchaA.value && parseInt(captchaA.value) !== num1 + num2) {\n                captchaA.classList.add('error');\n                alert('Неверное решение примера'); \n                isValid = false;\n            }\n\n            // 5. СТРОГАЯ ПРОВЕРКА ЧЕКБОКСА\n            if (!consentCheckbox.checked) {\n                if(checkboxGroup) checkboxGroup.classList.add('error');\n                isValid = false;\n                // Не отправляем форму, если чекбокс пуст\n            }\n\n            // 6. Отправка (Имитация)\n            if (isValid) {\n                const btn = form.querySelector('button[type=\"submit\"]');\n                const btnText = btn.textContent;\n                \n                btn.textContent = 'Отправка...';\n                btn.disabled = true;\n\n                // Имитация AJAX-запроса\n                setTimeout(() => {\n                    form.reset();\n                    btn.textContent = btnText;\n                    btn.disabled = false;\n                    btn.style.display = 'none'; // Скрываем кнопку\n                    if(successMsg) successMsg.style.display = 'block'; // Показываем \"Спасибо\"\n                    \n                    // Обновляем капчу на случай повторной отправки (если сброс формы не полный перезагруз)\n                    num1 = Math.floor(Math.random() * 10) + 1;\n                    num2 = Math.floor(Math.random() * 10) + 1;\n                    if(captchaQ) captchaQ.textContent = `${num1} + ${num2} = ?`;\n                }, 1500);\n            }\n        });\n    }\n\n    // ==========================================\n    // 6. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookie = document.getElementById('acceptCookie');\n\n    if (cookiePopup && acceptCookie) {\n        // Проверяем localStorage\n        if (!localStorage.getItem('cookiesAccepted')) {\n            // Показываем с задержкой 2 секунды\n            setTimeout(() => {\n                cookiePopup.style.display = 'block';\n                // Анимация появления (если GSAP подключен)\n                if (typeof gsap !== 'undefined') {\n                    gsap.fromTo(cookiePopup, \n                        { y: 50, opacity: 0 }, \n                        { y: 0, opacity: 1, duration: 0.5 }\n                    );\n                }\n            }, 2000);\n        }\n\n        acceptCookie.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            \n            // Анимация исчезновения\n            if (typeof gsap !== 'undefined') {\n                gsap.to(cookiePopup, { \n                    y: 20, \n                    opacity: 0, \n                    duration: 0.4, \n                    onComplete: () => {\n                        cookiePopup.style.display = 'none';\n                    }\n                });\n            } else {\n                cookiePopup.style.display = 'none';\n            }\n        });\n    }\n});"],"names":["burgerBtn","closeBtn","mobileMenu","menuLinks","toggleMenu","link","form","nameInput","phoneInput","emailInput","consentCheckbox","checkboxGroup","successMsg","captchaQ","captchaA","num1","num2","e","isValid","input","emailRegex","btn","btnText","cookiePopup","acceptCookie"],"mappings":"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"}